# 班级广播系统 - 微信小程序客户端

本目录包含班级广播系统的微信小程序客户端（教师端）代码。

## 目录结构

- `pages/`: 小程序页面
  - `login/`: 登录页面 
  - `index/`: 广播发送页面（主功能页）
  - `logs/`: 日志页面
- `utils/`: 工具函数
- 应用配置文件: app.js, app.json, app.wxss等

## 主要功能

### 教师登录
- 通过账号密码登录系统
- 身份验证和会话管理

### 广播发送
- 选择目标班级
- 发送文字广播
- 录制和发送语音广播
- 查看历史广播记录

## 技术要点

1. **WebSocket连接**
   - 连接服务器: `ws://服务器地址:端口?token=教师令牌`
   - 实时消息推送和接收

2. **录音和语音处理**
   - 使用微信小程序录音API
   - 语音文件上传和播放

3. **存储**
   - 本地缓存教师信息和班级列表
   - 历史记录本地存储

## 开发与配置

1. 在微信开发者工具中导入本目录
2. 修改 `project.config.json` 中的 appid
3. 修改 `pages/index/index.js` 中的服务器地址（WebSocket连接地址）

```javascript
// 示例：修改WebSocket连接地址
websocket = wx.connectSocket({
  url: `ws://your-server-address:3000?token=${token}`,
  success: () => {
    console.log('WebSocket连接成功');
  }
});
```

## 注意事项

1. 开发测试时需确保服务器已启动
2. 本地调试可使用微信开发者工具的本地设置
3. 语音功能需要在真机上测试
4. 注意配置服务器地址为可访问的IP或域名 